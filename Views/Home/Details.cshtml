@model Product
@{
    Layout = "_Layout";
}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Shopper</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/Shopper.styles.css" asp-append-version="true" />
</head>

<body>
    <section>

        <div class="card mb-3" id="@Model.ProductId">
            <div class="row">
                <div class="col-md-4">
                    <img src="/img/@Model.Image" alt="Ürün Resmi" style="width: 538px; height: 600px;"
                        class="img-fluid-details">
                </div>
                <div class="col-md-8 mt-3">
                    <div class="card-body" style="margin-left: 180px;">
                        <div class="fs-xs">
                            <a class="text-muted text-decoration-none" href="shop.html">@Model.Category?.Name</a>
                        </div>
                        <div class="fw-bold text">
                            <a asp-controller="Home" asp-action="Details" asp-route-id="@Model.ProductId"
                                class="text-decoration-none">
                                <h2 class="card-title">@Model.Name</h2>
                            </a>
                        </div>
                        <p class="card-text">@Model.Description</p>
                        <div class="fs-xs">
                            <p class="card-text">
                                @Model.Price
                                @if (Model.Stok == false)
                                {
                                    <span class="text-danger">(Out Of Stock)</span>
                                }
                                else
                                {
                                    <span class="text-success">(In Stock)</span>
                                }
                            </p>
                        </div>



                        @if (Model.Size != null)
                        {
                            <p class="mt-3" style="font-family: Jost*500 Medium; font-size: 16px; font-weight: 400;">Size:
                                <span style="font-weight: 500;" id="selectedSize"></span>
                            </p>

                            @for (int i = 0; i < Model.Size.Length; i++)
                            {
                                <div class="form-check form-check-inline"
                                    style="font-family: Jost*500 Medium; font-size: 16px; font-weight: 400;">
                                    <input class="form-check-input custom-checkbox" type="checkbox" id="inlineCheckbox@(i + 1)"
                                        value="@Model.Size[i]" data-label="@Model.Size[i]" onclick="updateSelectedSize(this)"
                                    @(Model.Stok ? "" : "disabled") />
                                    <label
                                        class="form-check-label custom-label @(Model.Stok ? "" : "text-decoration-line-through")"
                                        for="inlineCheckbox@(i + 1)">
                                        @Model.Size[i]
                                    </label>
                                </div>
                            }
                        }

                    </div>
                </div>
            </div>
        </div>

    </section>

    <section>
        <div class="custom-container text-center">
            <div class="row align-items-start">

                <div class="col custom-tab-column">
                    <button class="custom-tab-button active-custom-tab  border-bottom"
                        onclick="showCustomTab(this, 'descriptionCustomContent')">
                        Description
                    </button>
                    <div id="descriptionCustomContent" class="custom-tab-content active-custom-content">
                        <p class="card-text">@Model.Description</p>
                    </div>
                </div>

                <div class="col custom-tab-column">
                    <button class="custom-tab-button  border-bottom"
                        onclick="showCustomTab(this, 'sizeFitCustomContent')">
                        Size & Fit
                    </button>
                    <div id="sizeFitCustomContent" class="custom-tab-content">
                        <p class="card-text">Rahat ve şık.</p>
                    </div>
                </div>

                <div class="col custom-tab-column">
                    <button class="custom-tab-button  border-bottom"
                        onclick="showCustomTab(this, 'shippingReturnCustomContent')">
                        Shipping & Return
                    </button>
                    <div id="shippingReturnCustomContent" class="custom-tab-content">
                        <p class="card-text">Upon seas hath every years have whose subdue creeping they're it were.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script>
        function updateSelectedSize(selectedCheckbox) {
            var checkboxes = document.querySelectorAll('.custom-checkbox');
            checkboxes.forEach(function (checkbox) {
                var label = checkbox.nextElementSibling;
                if (label) {
                    label.style.borderColor = "#ccc";
                }
            });
            var selectedLabel = selectedCheckbox.nextElementSibling;
            if (selectedLabel) {
                selectedLabel.style.borderColor = "black";
            }
            document.getElementById('selectedSize').textContent = selectedCheckbox.value;
        }
    </script>

    <script>
        function showCustomTab(buttonElement, contentId) {

            var allContents = document.getElementsByClassName('custom-tab-content');
            for (var i = 0; i < allContents.length; i++) {
                allContents[i].classList.remove('active-custom-content');
            }

            var allButtons = document.getElementsByClassName('custom-tab-button');
            for (var j = 0; j < allButtons.length; j++) {
                allButtons[j].classList.remove('active-custom-tab');
            }

            document.getElementById(contentId).classList.add('active-custom-content');
            buttonElement.classList.add('active-custom-tab');
        }


    </script>
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
</body>

</html>